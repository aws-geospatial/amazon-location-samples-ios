<!DOCTYPE html>
<html>
<head>
<title>QuickStartGuideiOS.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h3 id="creating-an-ios-app">Creating an iOS app</h3>
<p>In this section, you will create an iOS application with a map, the ability to search at a location, and use trackers to
track user locations. First, you will create your Amazon Location resources, an Amazon Cognito identity, and an API key
for your application.</p>
<h3 id="topics">Topics</h3>
<ul>
<li><a href="#creating-amazon-location-resources-for-your-app">Creating Amazon Location resources for your app</a></li>
<li><a href="#setting-up-authentication-for-your-application">Setting up authentication for your application</a></li>
<li><a href="#creating-the-base-ios-application">Creating the base iOS application</a>
<ul>
<li><a href="#to-create-an-empty-application-xcode">To create an empty application (Xcode)</a></li>
<li><a href="#installing-required-app-dependencies-via-swift-package-manager">Installing required app dependencies via Swift Package Manager</a>
<ul>
<li><a href="#add-maplibre-to-your-project">Add Maplibre to your project</a></li>
<li><a href="#add-amazon-location-authentication-sdk-ios-to-your-project">Add Amazon location authentication SDK iOS to your project</a></li>
<li><a href="#add-amazon-location-tracking-sdk-ios-to-your-project">Add Amazon location tracking SDK iOS to your project</a></li>
</ul>
</li>
<li><a href="#setting-up-initial-code">Setting up initial code</a></li>
</ul>
</li>
<li><a href="#adding-an-interactive-map-to-your-application">Adding an interactive map to your application</a></li>
<li><a href="#adding-search-to-your-application">Adding search to your application</a></li>
<li><a href="#adding-tracking-to-your-application">Adding tracking to your application</a></li>
<li><a href="#seeing-the-final-application">Seeing the final application</a></li>
<li><a href="#whats-next">What's next</a></li>
</ul>
<h2 id="creating-amazon-location-resources-for-your-app">Creating Amazon Location resources for your app</h2>
<ol>
<li>If you haven't created an AWS account yet, <a href="https://portal.aws.amazon.com/billing/signup#/start/email">please do so</a>.
You can generate Amazon Location Service resources once your AWS account is ready. These resources will be essential
for executing the provided code snippets.</li>
<li>Select your preferred map style:
<ol>
<li>Navigate to the <a href="https://console.aws.amazon.com/location/maps/home">Maps section</a> in the Amazon Location Service
console and click 'Create Map' to preview available map styles.</li>
<li>Give the new map resource a Name and Description. Remember the name you assign to this map resource, which will
be used later in the tutorial.</li>
<li>When choosing a map style, consider the map data provider. Refer to section 82 of
the <a href="http://aws.amazon.com/service-terms">AWS service terms</a> for more details.</li>
<li>Accept
the <a href="https://aws.amazon.com/service-terms/#:~:text=82.%20Amazon%20Location%20Service">Amazon Location Terms and Conditions</a>,
then click 'Create Map'. After creation, interact with the chosen map by zooming in, out, or panning in any
direction.</li>
</ol>
</li>
<li>Select the place index you wish to utilize:
<ol>
<li>Navigate to the <a href="https://us-east-1.console.aws.amazon.com/location/places/home">Place indexes page</a> within the
Amazon Location Service console and click 'Create Place Index'.</li>
<li>Provide a Name and Description for the new place index resource. Remember the name you assign to this place index
resource, which will be used later in the tutorial.</li>
<li>Select a data provider, ideally aligning with your chosen map provider, to ensure search compatibility with the
maps. Refer to section 82 of the <a href="http://aws.amazon.com/service-terms">AWS service terms</a> for more details.</li>
<li>Choose the Data storage option. As no data is stored for this tutorial, select 'No, single use only'.</li>
<li>Accept
the <a href="https://aws.amazon.com/service-terms/#:~:text=82.%20Amazon%20Location%20Service">Amazon Location Terms and Conditions</a>
and then click 'Create Place Index'.</li>
</ol>
</li>
<li>Select the tracker you wish to utilize:
<ol>
<li>Navigate to the <a href="https://us-east-1.console.aws.amazon.com/location/tracking/home">Trackers page</a> within the
Amazon Location Service console and click 'Create tracker'.</li>
<li>Provide a Name and Description for the new tracker resource. Remember the name you assign to this tracker
resource, which will be used later in the tutorial.</li>
<li>Select one of the position filtering options. Refer to
the <a href="https://docs.aws.amazon.com/location/latest/developerguide/start-tracking.html">Tracker developer guide</a> for
more details.</li>
<li>Click 'Create tracker'.</li>
</ol>
</li>
</ol>
<h2 id="setting-up-authentication-for-your-application">Setting up authentication for your application</h2>
<p>The application that you create in this tutorial has anonymous usage, meaning that your users are not required to sign
into AWS to use the application. However, the Amazon Location Service APIs require authentication to use. You can use
either API keys or Amazon Cognito to provide authentication and authorization for anonymous users. This tutorial will
use Amazon Cognito. Before you can use Amazon Cognito in your application, you must create an Amazon Cognito identity
pool.</p>
<p><strong>Create an IAM policy</strong></p>
<ol>
<li>
<p>Sign in to the IAM console at https://console.aws.amazon.com/iam/ with your user that has administrator permissions.</p>
</li>
<li>
<p>In the navigation pane, choose Policies.</p>
</li>
<li>
<p>In the content pane, choose Create policy.</p>
</li>
<li>
<p>Choose the JSON option and copy the text from the following JSON policy document. Paste this text into the JSON text
box.</p>
<pre class="hljs"><code><div>{
    &quot;Version&quot;: &quot;2012-10-17&quot;,
    &quot;Statement&quot;: [
        {
            &quot;Effect&quot;: &quot;Allow&quot;,
            &quot;Action&quot;: [
                &quot;geo:GetMapTile&quot;,
                &quot;geo:GetMapStyleDescriptor&quot;,
                &quot;geo:GetMapSprites&quot;,
                &quot;geo:GetMapGlyphs&quot;,
                &quot;geo:SearchPlaceIndexForPosition&quot;,
                &quot;geo:GetDevicePositionHistory&quot;,
                &quot;geo:BatchUpdateDevicePosition&quot;
            ],
            &quot;Resource&quot;: [
                &quot;arn:aws:geo:{Region}:{Account}:map/{MapName}&quot;,
                &quot;arn:aws:geo:{Region}:{Account}:place-index/{IndexName}&quot;,
                &quot;arn:aws:geo:{Region}:{Account}:tracker/{TrackerName}&quot;
            ]
        }
    ]
}
</div></code></pre>
</li>
</ol>
<p>This is a policy example for Tracking. To use the example for your own policy, replace the <code>Region</code>, <code>Account</code>, <code>MapName</code>, <code>IndexName</code> and <code>TrackerName</code> placeholders.</p>
<hr>
<p><strong>Note</strong></p>
<p>While unauthenticated identity pools are intended for exposure on unsecured internet sites, note that they will be
exchanged for standard, time-limited AWS credentials.</p>
<p>It's important to scope the IAM roles associated with unauthenticated identity pools appropriately. For more information
about using and appropriately scoping policies in Amazon Cognito with Amazon Location
Service, <a href="https://docs.aws.amazon.com/location/latest/developerguide/how-to-access.html">see Granting access to Amazon Location Service</a>.</p>
<hr>
<hr>
<p><strong>Note</strong></p>
<p>You can switch between the <strong>Visual</strong> and <strong>JSON</strong> editor options anytime. However, if you make changes or choose <strong>Review policy</strong> in the <strong>Visual</strong> editor tab, IAM might restructure your policy to optimize it for the Visual editor.</p>
<hr>
<ol start="5">
<li>On the Review and Create page, provide a name for the policy name field. Review the permissions granted by your
policy, and then choose Create Policy to save your work.</li>
</ol>
<p>The new policy appears in the list of managed policies and is ready to attach.</p>
<p><strong>Set up authentication for your tracking</strong></p>
<ol>
<li>Set up authentication for your map application in
the <a href="https://console.aws.amazon.com/cognito/home/">Amazon Cognito console</a>.</li>
<li>Open the <strong>Identity pools</strong> page.</li>
</ol>
<hr>
<p><strong>Important</strong></p>
<p>The pool that you create must be in the same AWS account and AWS Region as the Amazon Location Service resources that
you created in the previous section.</p>
<hr>
<ol start="3">
<li>Choose <strong>Create Identity pool</strong>.</li>
<li>Starting with the <strong>Configure identity pool trust</strong> step. For user access authentication, select <strong>Guest access</strong>,
and press next.</li>
<li>On the <strong>Configure permissions</strong> page select the <strong>Use an existing IAM role</strong> and enter the name of the IAM role you
created in the previous step. When ready press next to move on to the next step.</li>
<li>On the <strong>Configure properties</strong> page, provide a name for your identity pool. Then press <strong>Next</strong>.</li>
<li>On the <strong>Review and create</strong> page, review all the information present then press <strong>Create identity pool</strong>.</li>
<li>Open the <strong>Identity pools</strong> page, and select the identity pool you just created. Then copy or write down the
IdentityPoolId that you will use later in your browser script.</li>
</ol>
<h2 id="creating-the-base-ios-application">Creating the base iOS application</h2>
<p>In this tutorial, you will create an iOS application that embeds a map and allows the user to find what's at a location
on the map.</p>
<p>First, let's create a Swift application using Xcode's new project wizard.</p>
<h4 id="to-create-an-empty-application-xcode">To create an empty application (Xcode)</h4>
<ul>
<li>Start Xcode. On the menu, choose File, New Project.</li>
<li>From the iOS tab, select App, and then choose Next.</li>
<li>Choose a Product Name, Organization Identifier, <code>SwiftUI</code> in the <code>Interface</code> field, and then choose Next for your
application.</li>
<li>Select the location where you want to save your project and click Create.</li>
<li>Next, you will add the map control to the application.</li>
</ul>
<h3 id="installing-required-app-dependencies-via-swift-package-manager">Installing required app dependencies via Swift Package Manager</h3>
<h4 id="add-maplibre-to-your-project">Add Maplibre to your project</h4>
<ul>
<li>In Xcode, right-click the project and click <code>Add Packages....</code> This will open the Packages window, which gives you
access to the Swift packages.</li>
<li>In the Packages window, type Maplibre Native package
URL: <a href="https://github.com/maplibre/maplibre-gl-native-distribution">https://github.com/maplibre/maplibre-gl-native-distribution</a> and press Enter.</li>
<li>Select the <code>maplibre-gl-native-distribution</code> package and click on the Add Package button.</li>
<li>Select the <code>Mapbox</code> product and click on the Add Package button.</li>
</ul>
<h4 id="add-amazon-location-authentication-sdk-ios-to-your-project">Add Amazon location authentication SDK iOS to your project</h4>
<ul>
<li>In the Packages window, type Amazon location authentication SDK iOS
URL: <a href="https://github.com/aws-geospatial/amazon-location-mobile-auth-sdk-ios">https://github.com/aws-geospatial/amazon-location-mobile-auth-sdk-ios</a> and press Enter.</li>
<li>Select the <code>amazon-location-mobile-auth-sdk-ios</code> package and click on the Add Package button.</li>
<li>Select the <code>AmazonLocationiOSAuthSDK</code> product and click on the Add Package button.</li>
</ul>
<h4 id="add-amazon-location-tracking-sdk-ios-to-your-project">Add Amazon location tracking SDK iOS to your project</h4>
<ul>
<li>In the Packages window, type Amazon location authentication SDK iOS
URL: <a href="https://github.com/aws-geospatial/amazon-location-mobile-tracking-sdk-ios">https://github.com/aws-geospatial/amazon-location-mobile-tracking-sdk-ios</a> and press Enter.</li>
<li>Select the <code>amazon-location-mobile-tracking-sdk-ios</code> package and click on the Add Package button.</li>
<li>Select the <code>AmazonLocationiOSTrackingSDK</code> product and click on the Add Package button.</li>
</ul>
<h3 id="setting-up-initial-code">Setting up initial code</h3>
<p><strong>Enable Location permissions in your app</strong></p>
<p>To add location permissions in an iOS project using Xcode, you need to follow these general steps:</p>
<ul>
<li>Open your Xcode project.</li>
<li>Locate the Info.plist file.</li>
<li>Add the necessary keys for location permissions based on your app's requirements. Here are the keys:
<ul>
<li>NSLocationWhenInUseUsageDescription: Description of why your app needs location access when it's in use.</li>
<li>NSLocationAlwaysAndWhenInUseUsageDescription: Description of why your app needs continuous location access.</li>
</ul>
</li>
</ul>
<p><strong>Configure resource values in your app</strong></p>
<p>Add a new file named <code>Config.xcconfig</code> and fill out the values that you had created previously in the Amazon console.</p>
<pre class="hljs"><code><div>REGION =
INDEX_NAME =
MAP_NAME =
IDENTITY_POOL_ID =
TRACKER_NAME =
</div></code></pre>
<ul>
<li>From the left side navigator section, select the project.</li>
<li>Under the targets section, select your app and click on the info tab.</li>
<li>Add info properties with values like the below:
<img src="images/info-config.png" alt="alt text"></li>
<li>Add <code>Config.swift</code> file with the contents below, which will read config values from the Bundle info file</li>
</ul>
<pre class="hljs"><code><div>import Foundation

enum Config {
    static let region = Bundle.main.object(forInfoDictionaryKey: &quot;Region&quot;) as! String
    static let mapName = Bundle.main.object(forInfoDictionaryKey: &quot;MapName&quot;) as! String
    static let indexName = Bundle.main.object(forInfoDictionaryKey: &quot;IndexName&quot;) as! String
    static let identityPoolId = Bundle.main.object(forInfoDictionaryKey: &quot;IdentityPoolId&quot;) as! String
    static let trackerName = Bundle.main.object(forInfoDictionaryKey: &quot;TrackerName&quot;) as! String
}
</div></code></pre>
<ul>
<li>Create a new folder with the name <code>ViewModel</code> and Add a <code>TrackingViewModel.swift</code> file inside it</li>
</ul>
<pre class="hljs"><code><div>import SwiftUI
import AmazonLocationiOSAuthSDK
import MapLibre

final class TrackingViewModel : ObservableObject {
    @Published var trackingButtonText = NSLocalizedString(&quot;StartTrackingLabel&quot;, comment: &quot;&quot;)
    @Published var trackingButtonColor = Color.blue
    @Published var trackingButtonIcon = &quot;play.circle&quot;
    @Published var region : String
    @Published var mapName : String
    @Published var indexName : String
    @Published var identityPoolId : String
    @Published var trackerName : String
    @Published var showAlert = false
    @Published var alertTitle = &quot;&quot;
    @Published var alertMessage = &quot;&quot;
    @Published var centerLabel = &quot;&quot;

    var clientIntialised: Bool
    var client: LocationTracker!
    var authHelper: AuthHelper
    var credentialsProvider: LocationCredentialsProvider?
    var mlnMapView: MLNMapView?
    var mapViewDelegate: MapViewDelegate?
    var lastGetTrackingTime: Date?
    var trackingActive: Bool
    
    init(region: String, mapName: String, indexName: String, identityPoolId: String, trackerName: String) {
        self.region = region
        self.mapName = mapName
        self.indexName = indexName
        self.identityPoolId = identityPoolId
        self.trackerName = trackerName
        self.authHelper = AuthHelper()
        self.trackingActive = false
        self.clientIntialised = false
    }
    
    func authWithCognito(identityPoolId: String?) {
        guard let identityPoolId = identityPoolId?.trimmingCharacters(in: .whitespacesAndNewlines)
        else {
            alertTitle = NSLocalizedString(&quot;Error&quot;, comment: &quot;&quot;)
            alertMessage = NSLocalizedString(&quot;NotAllFieldsAreConfigured&quot;, comment: &quot;&quot;)
            showAlert = true
            return
        }
        credentialsProvider = authHelper.authenticateWithCognitoUserPool(identityPoolId: identityPoolId)
        initializeClient()
    }
    
    func initializeClient() {
        client = LocationTracker(provider: credentialsProvider!, trackerName: trackerName)
        clientIntialised = true
    }
}
</div></code></pre>
<h2 id="adding-an-interactive-map-to-your-application">Adding an interactive map to your application</h2>
<p>In this section, you will add the map control to your application. This tutorial uses MapLibre and the AWS API for
managing the map view in the application. The map control itself is part of
the <a href="https://docs.maptiler.com/maplibre-gl-native-ios/">MapLibre GL Native iOS</a> library.</p>
<ul>
<li>Add <code>MapView.swift</code> file under the <code>Views</code> folder with the following code:</li>
</ul>
<pre class="hljs"><code><div>import SwiftUI
import MapLibre

struct MapView: UIViewRepresentable {
    var onMapViewAvailable: ((MLNMapView) -&gt; Void)?
    var mlnMapView: MLNMapView?
    var trackingViewModel: TrackingViewModel
    
    func makeCoordinator() -&gt; MapView.Coordinator {
        return Coordinator(self, trackingViewModel: trackingViewModel)
    }
    
    func makeUIView(context: Context) -&gt; MLNMapView {
        let styleURL = URL(string: &quot;https://maps.geo.\(trackingViewModel.region).amazonaws.com/maps/v0/maps/\(trackingViewModel.mapName)/style-descriptor&quot;)
        let mapView = MLNMapView(frame: .zero, styleURL: styleURL)
        mapView.autoresizingMask = [.flexibleWidth, .flexibleHeight]
        mapView.setZoomLevel(15, animated: true)
        mapView.showsUserLocation = true
        mapView.userTrackingMode = .follow
        context.coordinator.mlnMapView = mapView
        mapView.delegate = context.coordinator

        mapView.logoView.isHidden = true
        context.coordinator.addCenterMarker()
        
        onMapViewAvailable?(mapView)
        trackingViewModel.mlnMapView = mapView
        return mapView
    }
    
    func updateUIView(_ uiView: MLNMapView, context: Context) {
    }
    
    class Coordinator: NSObject, MLNMapViewDelegate, MapViewDelegate {
        var control: MapView
        var mlnMapView: MLNMapView?
        var trackingViewModel: TrackingViewModel
        var centerMarker: MLNPointAnnotation?
        
        public init(_ control: MapView, trackingViewModel: TrackingViewModel) {
            self.control = control
            self.trackingViewModel = trackingViewModel
            super.init()
            self.trackingViewModel.mapViewDelegate = self
        }

        func mapViewDidFinishRenderingMap(_ mapView: MLNMapView, fullyRendered: Bool) {
            if(fullyRendered) {
                mapView.accessibilityIdentifier = &quot;MapView&quot;
                mapView.isAccessibilityElement = false
            }
        }
        
        func addCenterMarker() {
            guard let mlnMapView = mlnMapView else {
                return
            }

            let centerCoordinate = mlnMapView.centerCoordinate
            let marker = MLNPointAnnotation()
            marker.coordinate = centerCoordinate
            marker.accessibilityLabel = &quot;CenterMarker&quot;
            mlnMapView.addAnnotation(marker)
            centerMarker = marker

            trackingViewModel.reverseGeocodeCenter(centerCoordinate: centerCoordinate, marker: marker)
        }
        
        func mapView(_ mapView: MLNMapView, regionDidChangeAnimated animated: Bool) {
            if let marker = centerMarker {
                DispatchQueue.main.asyncAfter(deadline: .now() + 1.0) {
                    mapView.deselectAnnotation(marker, animated: false)
                    marker.coordinate = mapView.centerCoordinate
                    let centerCoordinate = mapView.centerCoordinate
                    self.trackingViewModel.reverseGeocodeCenter(centerCoordinate: centerCoordinate, marker: marker)
                }
            }
        }
    }
}
</div></code></pre>
<ul>
<li>Add <code>AWSSignatureV4Delegate</code> file under the <code>ViewModel</code> folder. This file is used to sign with all the MapView http requests to render the map:</li>
</ul>
<pre class="hljs"><code><div>import MapLibre
import AmazonLocationiOSAuthSDK
 
class AWSSignatureV4Delegate : NSObject, MLNOfflineStorageDelegate {
    private let awsSigner: AWSSigner
  
    init(credentialsProvider: LocationCredentialsProvider) {
        self.awsSigner = AWSSigner(amazonLocationCognitoCredentialsProvider: credentialsProvider.getCognitoProvider()!, serviceName: &quot;geo&quot;)
        super.init()
    }
 
    func offlineStorage(_ storage: MLNOfflineStorage, urlForResourceOf kind: MLNResourceKind, with url: URL) -&gt; URL {
        if url.host?.contains(&quot;amazonaws.com&quot;) != true {
            return url
        }
        let signedURL = awsSigner.signURL(url: url, expires: .hours(1))
        
        return signedURL
    }
}
</div></code></pre>
<ul>
<li>Add <code>UserLocationView.swift</code> file under <code>Views</code> folder. This view will show a button which center the map to the
user's location</li>
</ul>
<pre class="hljs"><code><div>import SwiftUI

struct UserLocationView: View {
    @ObservedObject var trackingViewModel: TrackingViewModel
    var body: some View {
            Button(action: {
                trackingViewModel.locateMe()
            }) {
                Image(systemName: &quot;scope&quot;)
                    .resizable()
                    .frame(width: 24, height: 24)
                    .padding(5)
                    .background(Color.white)
                    .foregroundColor(.blue)
                    .clipShape(RoundedRectangle(cornerRadius: 8))
                    .shadow(color: Color.black.opacity(0.3), radius: 3, x: 0, y: 2)
            }
            .accessibility(identifier: &quot;LocateMeButton&quot;)
            .padding(.trailing, 10)
            .padding(.bottom, 10)
            .frame(maxWidth: .infinity, alignment: .trailing)
    }
}
</div></code></pre>
<ul>
<li>Add <code>TrackingView.swift</code> file with the following code:</li>
</ul>
<pre class="hljs"><code><div>import SwiftUI

struct TrackingView: View {
    @ObservedObject var trackingViewModel: TrackingViewModel
    var body: some View {
        ZStack(alignment: .bottom) {
            MapView(trackingViewModel: trackingViewModel)
            VStack {
                UserLocationView(trackingViewModel: trackingViewModel)
            }
        }
        .onAppear() {
            if !trackingViewModel.identityPoolId.isEmpty {
                trackingViewModel.authWithCognito(identityPoolId: trackingViewModel.identityPoolId)
            }
        }
    }
}
</div></code></pre>
<p>You can now build the application. To run it, you may have to set up a device to emulate it in Xcode or use the app on
your device. Use this app to see how the map control behaves. You can pan by dragging on the map and pinch to zoom. On
your own, you can change how the map control works to customize it to the needs of your application.</p>
<p>In the next section, you will add a marker on the map, and show the address of the location where the marker is as you
move the map.</p>
<h2 id="adding-search-to-your-application">Adding search to your application</h2>
<p>This section defines how to add searching on the map. In this case, you will add a reverse geocoding search, where you
find the items at a location. To simplify the use of an iOS app, we will search the center of the screen. To find a new
location, move the map to where you want to search. We will place a marker at the center of the map to show where we are
searching.</p>
<ul>
<li>Add the following code in <code>TrackingViewModel.swift</code> file which is related to the reverse geocoding search</li>
</ul>
<pre class="hljs"><code><div>func reverseGeocodeCenter(centerCoordinate: CLLocationCoordinate2D, marker: MLNPointAnnotation) {
    let position = [NSNumber(value: centerCoordinate.longitude), NSNumber(value: centerCoordinate.latitude)]
    searchPositionAPI(position: position, marker: marker)
}

func searchPositionAPI(position: [Double], marker: MLNPointAnnotation) {
    if let amazonClient = authHelper.getLocationClient() {
        Task {
            let searchRequest = SearchPlaceIndexForPositionInput(indexName: indexName, language: &quot;en&quot; , maxResults: 10, position: position)
            let searchResponse = try? await amazonClient.searchPosition(indexName: indexName, input: searchRequest)
            DispatchQueue.main.async {
                self.centerLabel = searchResponse?.results?.first?.place?.label ?? &quot;&quot;
                self.mlnMapView?.selectAnnotation(marker, animated: true, completionHandler: {})
            }
        }
    }
}
</div></code></pre>
<ul>
<li>Update <code>TrackingView.swift</code> file with the following code which will show the mapview's centered location's address</li>
</ul>
<pre class="hljs"><code><div>import SwiftUI

struct TrackingView: View {
    @ObservedObject var trackingViewModel: TrackingViewModel
    var body: some View {
        ZStack(alignment: .bottom) {
            if trackingViewModel.mapSigningIntialised {
                MapView(trackingViewModel: trackingViewModel)
                VStack {
                    UserLocationView(trackingViewModel: trackingViewModel)
                    CenterAddressView(trackingViewModel: trackingViewModel)
                }
            }
            else {
                Text(&quot;Loading...&quot;) 
            }
        }
        .onAppear() {
            if !trackingViewModel.identityPoolId.isEmpty {
                Task {
                    do {
                        try await trackingViewModel.authWithCognito(identityPoolId: trackingViewModel.identityPoolId)
                    }
                    catch {
                        print(error)
                    }
                }
            }
        }
    }
}
</div></code></pre>
<h2 id="adding-tracking-to-your-application">Adding tracking to your application</h2>
<p>The last step for your application is to add tracking functionality to your app. In this case, you will add start
tracking, stop tracking, fetch and display tracker points on your app.</p>
<ul>
<li>Add <code>TrackingBottomView.swift</code> file in your project. Which has a button that starts and stops tracking user locations
and shows tracking points on the map.</li>
</ul>
<pre class="hljs"><code><div>import SwiftUI

struct TrackingBottomView: View {
    @ObservedObject var trackingViewModel: TrackingViewModel
    var body: some View {
           Button(action: {
               Task {
                   if(trackingViewModel.trackingButtonText == NSLocalizedString(&quot;StartTrackingLabel&quot;, comment: &quot;&quot;)) {
                       trackingViewModel.startTracking()
                   } else {
                       trackingViewModel.stopTracking()
                   }
               }
           }) {
               HStack {
                   Spacer()
                   Text(&quot;Tracking&quot;)
                       .foregroundColor(trackingViewModel.trackingButtonColor)
                       .background(.white)
                       .cornerRadius(15.0)
                   
                   Image(systemName: trackingViewModel.trackingButtonIcon)
                       .resizable()
                       .frame(width: 24, height: 24)
                       .padding(5)
                       .background(.white)
                       .foregroundColor(trackingViewModel.trackingButtonColor)

               }
           }
           .accessibility(identifier: &quot;TrackingButton&quot;)
           .background(.white)
           .clipShape(RoundedRectangle(cornerRadius: 8))
           .padding(.trailing, 10)
           .padding(.bottom, 40)
           .frame(width: 130, alignment: .trailing)
           .shadow(color: Color.black.opacity(0.3), radius: 3, x: 0, y: 2)
       }
}
</div></code></pre>
<ul>
<li>Update <code>TrackingView.swift</code> file with the following code</li>
</ul>
<pre class="hljs"><code><div>import SwiftUI

struct TrackingView: View {
    @ObservedObject var trackingViewModel: TrackingViewModel
    var body: some View {
        ZStack(alignment: .bottom) {
            if trackingViewModel.mapSigningIntialised {
                MapView(trackingViewModel: trackingViewModel)
                VStack {
                    UserLocationView(trackingViewModel: trackingViewModel)
                    CenterAddressView(trackingViewModel: trackingViewModel)
                    TrackingBottomView(trackingViewModel: trackingViewModel)
                }
            }
            else {
                Text(&quot;Loading...&quot;) 
            }
        }
        .onAppear() {
            if !trackingViewModel.identityPoolId.isEmpty {
                Task {
                    do {
                        try await trackingViewModel.authWithCognito(identityPoolId: trackingViewModel.identityPoolId)
                    }
                    catch {
                        print(error)
                    }
                }
            }
        }
    }
}
</div></code></pre>
<ul>
<li>
<p>Add the following code in <code>TrackingViewModel.swift</code> file. These functions are responsible for start and stop tracking.
It will also show an error alert if user location permission is denied.</p>
</li>
<li>
<p>Implement foreground tracking
To start tracking in the foreground, see the following code example:</p>
</li>
</ul>
<pre class="hljs"><code><div>    func showLocationDeniedRationale() {
        alertTitle = NSLocalizedString(&quot;locationManagerAlertTitle&quot;, comment: &quot;&quot;)
        alertMessage = NSLocalizedString(&quot;locationManagerAlertText&quot;, comment: &quot;&quot;)
        showAlert = true
    }
    
    // Required in info.plist: Privacy - Location When In Use Usage Description
    func startTracking() {
        do {
            print(&quot;Tracking Started...&quot;)
            if(client == nil) {
                initializeClient()
            }
            try client.startTracking()
            DispatchQueue.main.async { [self] in
                self.trackingButtonText = NSLocalizedString(&quot;StopTrackingLabel&quot;, comment: &quot;&quot;)
                self.trackingButtonColor = .red
                self.trackingButtonIcon = &quot;pause.circle&quot;
                trackingActive = true
            }
        } catch TrackingLocationError.permissionDenied {
            showLocationDeniedRationale()
        } catch {
            print(&quot;error in tracking&quot;)
        }
    }
    
    func stopTracking() {
        print(&quot;Tracking Stopped...&quot;)
        client.stopTracking()
        trackingButtonText = NSLocalizedString(&quot;StartTrackingLabel&quot;, comment: &quot;&quot;)
        trackingButtonColor = .blue
        trackingButtonIcon = &quot;play.circle&quot;
        trackingActive = false
    }
</div></code></pre>
<hr>
<p><strong>Note</strong></p>
<p>The <code>startTracking</code> will ask for the user's location permission. The application must use &quot;When In Use&quot; or &quot;Only Once&quot;
permissions. Otherwise, the application will throw a permission denied error.</p>
<hr>
<ul>
<li><strong>Get and display tracking locations</strong>
To get the locations from the user's device, you need to provide the start and end date and time. A single call
returns a maximum of 100 tracking locations, but if there are more than 100 tracking locations, it will return
a <code>nextToken</code> value. You will need to call subsequent <code>getTrackerDeviceLocation</code> calls with <code>nextToken</code> to load more
tracking points for the given start and end time.</li>
</ul>
<pre class="hljs"><code><div>    func getTrackingPoints(nextToken: String? = nil) async throws {
        guard trackingActive else {
            return
        }
        // Initialize startTime to 24 hours ago from the current date and time.
        let startTime: Date = Date().addingTimeInterval(-86400)
        var endTime: Date = Date()
        if lastGetTrackingTime != nil {
            endTime = lastGetTrackingTime!
        }
        let result = try await client?.getTrackerDeviceLocation(nextToken: nextToken, startTime: startTime, endTime: endTime)
        if let trackingData = result {
            
            lastGetTrackingTime = Date()
            let devicePositions = trackingData.devicePositions

            let positions = devicePositions!.sorted { (pos1: LocationClientTypes.DevicePosition, pos2: LocationClientTypes.DevicePosition) -&gt; Bool in
                guard let date1 = pos1.sampleTime,
                      let date2 = pos2.sampleTime else {
                    return false
                }
                return date1 &lt; date2
            }

            let trackingPoints = positions.compactMap { position -&gt; CLLocationCoordinate2D? in
                guard let latitude = position.position!.last, let longitude = position.position!.first else {
                    return nil
                }
                return CLLocationCoordinate2D(latitude: latitude, longitude: longitude)
            }
            DispatchQueue.main.async {
                self.mapViewDelegate!.drawTrackingPoints( trackingPoints: trackingPoints)
            }
            if let nextToken = trackingData.nextToken {
                try await getTrackingPoints(nextToken: nextToken)
            }
        }
    }
</div></code></pre>
<ul>
<li>Now replace <code>MapView.swift</code> file with the following code:</li>
</ul>
<pre class="hljs"><code><div>import SwiftUI
import MapLibre

struct MapView: UIViewRepresentable {
    var onMapViewAvailable: ((MLNMapView) -&gt; Void)?
    var mlnMapView: MLNMapView?
    var trackingViewModel: TrackingViewModel
    
    func makeCoordinator() -&gt; MapView.Coordinator {
        return Coordinator(self, trackingViewModel: trackingViewModel)
    }
    
    func makeUIView(context: Context) -&gt; MLNMapView {
        let styleURL = URL(string: &quot;https://maps.geo.\(trackingViewModel.region).amazonaws.com/maps/v0/maps/\(trackingViewModel.mapName)/style-descriptor&quot;)
        let mapView = MLNMapView(frame: .zero, styleURL: styleURL)
        mapView.autoresizingMask = [.flexibleWidth, .flexibleHeight]
        mapView.setZoomLevel(15, animated: true)
        mapView.showsUserLocation = true
        mapView.userTrackingMode = .follow
        context.coordinator.mlnMapView = mapView
        mapView.delegate = context.coordinator

        mapView.logoView.isHidden = true
        context.coordinator.addCenterMarker()
        
        onMapViewAvailable?(mapView)
        trackingViewModel.mlnMapView = mapView
        return mapView
    }
    
    func updateUIView(_ uiView: MLNMapView, context: Context) {
    }
    
    class Coordinator: NSObject, MLNMapViewDelegate, MapViewDelegate {
        var control: MapView
        var mlnMapView: MLNMapView?
        var trackingViewModel: TrackingViewModel
        var centerMarker: MLNPointAnnotation?
        
        public init(_ control: MapView, trackingViewModel: TrackingViewModel) {
            self.control = control
            self.trackingViewModel = trackingViewModel
            super.init()
            self.trackingViewModel.mapViewDelegate = self
        }

        func mapViewDidFinishRenderingMap(_ mapView: MLNMapView, fullyRendered: Bool) {
            if(fullyRendered) {
                mapView.accessibilityIdentifier = &quot;MapView&quot;
                mapView.isAccessibilityElement = false
            }
        }
        
        func addCenterMarker() {
            guard let mlnMapView = mlnMapView else {
                return
            }

            let centerCoordinate = mlnMapView.centerCoordinate
            let marker = MLNPointAnnotation()
            marker.coordinate = centerCoordinate
            marker.accessibilityLabel = &quot;CenterMarker&quot;
            mlnMapView.addAnnotation(marker)
            centerMarker = marker

            trackingViewModel.reverseGeocodeCenter(centerCoordinate: centerCoordinate, marker: marker)
        }
        
        func mapView(_ mapView: MLNMapView, regionDidChangeAnimated animated: Bool) {
            if let marker = centerMarker {
                DispatchQueue.main.asyncAfter(deadline: .now() + 1.0) {
                    mapView.deselectAnnotation(marker, animated: false)
                    marker.coordinate = mapView.centerCoordinate
                    let centerCoordinate = mapView.centerCoordinate
                    self.trackingViewModel.reverseGeocodeCenter(centerCoordinate: centerCoordinate, marker: marker)
                }
            }
        }
        
        func mapView(_ mapView: MLNMapView, viewFor annotation: MLNAnnotation) -&gt; MLNAnnotationView? {
            guard let pointAnnotation = annotation as? MLNPointAnnotation else {
                return nil
            }

            let reuseIdentifier: String
            var color: UIColor = .black
            if pointAnnotation.accessibilityLabel == &quot;Tracking&quot; {
                reuseIdentifier = &quot;TrackingAnnotation&quot;
                color = UIColor(red: 0.00784313725, green: 0.50588235294, blue: 0.58039215686, alpha: 1)
            } else if pointAnnotation.accessibilityLabel == &quot;LocationChange&quot; {
                reuseIdentifier = &quot;LocationChange&quot;
                color = .gray
            } else {
                reuseIdentifier = &quot;DefaultAnnotationView&quot;
            }

            var annotationView = mapView.dequeueReusableAnnotationView(withIdentifier: reuseIdentifier)

            if annotationView == nil {
                if reuseIdentifier != &quot;DefaultAnnotationView&quot; {
                    annotationView = MLNAnnotationView(annotation: annotation, reuseIdentifier: reuseIdentifier)
                    //If point annotation is an uploaded Tracking point the radius is 20 and color is blue, otherwise radius is 10 and color is gray
                    let radius = pointAnnotation.accessibilityLabel == &quot;Tracking&quot; ? 20:10
                    annotationView?.frame = CGRect(x: 0, y: 0, width: radius, height: radius)
                    annotationView?.backgroundColor = color
                    annotationView?.layer.cornerRadius = 10
                    
                    if pointAnnotation.accessibilityLabel == &quot;Tracking&quot; {
                        annotationView?.layer.borderColor = UIColor.white.cgColor
                        annotationView?.layer.borderWidth = 2.0
                        annotationView?.layer.shadowColor = UIColor.black.cgColor
                        annotationView?.layer.shadowOffset = CGSize(width: 0, height: 2)
                        annotationView?.layer.shadowRadius = 3
                        annotationView?.layer.shadowOpacity = 0.2
                        annotationView?.clipsToBounds = false
                    }
                }
                else {
                    return nil
                }
            }

            return annotationView
        }
        
        func mapView(_ mapView: MLNMapView, didUpdate userLocation: MLNUserLocation?) {
            if (userLocation?.location) != nil {
                if trackingViewModel.trackingActive {
                    let point = MLNPointAnnotation()
                    point.coordinate = (userLocation?.location!.coordinate)!
                    point.accessibilityLabel = &quot;LocationChange&quot;
                    mapView.addAnnotation(point)
                    Task {
                        do {
                            try await trackingViewModel.getTrackingPoints()
                        }
                        catch {
                            print(error)
                        }
                    }
                }
            }
        }
        
        func checkIfTrackingAnnotationExists(on mapView: MLNMapView, at coordinates: CLLocationCoordinate2D) -&gt; Bool {
            let existingAnnotation = mapView.annotations?.first(where: { annotation in
                guard let annotation = annotation as? MLNPointAnnotation else { return false }
                return annotation.coordinate.latitude == coordinates.latitude &amp;&amp;
                annotation.coordinate.longitude == coordinates.longitude &amp;&amp; annotation.accessibilityLabel == &quot;Tracking&quot; })
            return existingAnnotation != nil
        }
        
        public func drawTrackingPoints(trackingPoints: [CLLocationCoordinate2D]?) {
            guard let mapView = mlnMapView, let newTrackingPoints = trackingPoints, !newTrackingPoints.isEmpty else {
                return
            }

            let uniqueCoordinates = newTrackingPoints.filter { coordinate in
                !checkIfTrackingAnnotationExists(on: mapView, at: coordinate)
            }

            let points = uniqueCoordinates.map { coordinate -&gt; MLNPointAnnotation in
                let point = MLNPointAnnotation()
                point.coordinate = coordinate
                point.accessibilityLabel = &quot;Tracking&quot;
                return point
            }
            mapView.addAnnotations(points)
        }
    }
}

protocol MapViewDelegate: AnyObject {
    func drawTrackingPoints(trackingPoints: [CLLocationCoordinate2D]?)
}
</div></code></pre>
<p><strong>Localize String values</strong></p>
<ul>
<li>Add a new file <code>Localizable.xcstrings</code></li>
<li>Right-click on the <code>Localizable.xcstrings</code> file and open it as <code>Source Code</code>.</li>
<li>Replace its content with the following:</li>
</ul>
<pre class="hljs"><code><div>{
  &quot;sourceLanguage&quot; : &quot;en&quot;,
  &quot;strings&quot; : {
    &quot;Cancel&quot; : {
      &quot;extractionState&quot; : &quot;manual&quot;,
      &quot;localizations&quot; : {
        &quot;en&quot; : {
          &quot;stringUnit&quot; : {
            &quot;state&quot; : &quot;translated&quot;,
            &quot;value&quot; : &quot;Cancel&quot;
          }
        }
      }
    },
    &quot;Error&quot; : {
      &quot;extractionState&quot; : &quot;manual&quot;,
      &quot;localizations&quot; : {
        &quot;en&quot; : {
          &quot;stringUnit&quot; : {
            &quot;state&quot; : &quot;translated&quot;,
            &quot;value&quot; : &quot;Error&quot;
          }
        }
      }
    },
    &quot;Loading...&quot; : {

    },
    &quot;locationManagerAlertText&quot; : {
      &quot;extractionState&quot; : &quot;manual&quot;,
      &quot;localizations&quot; : {
        &quot;en&quot; : {
          &quot;stringUnit&quot; : {
            &quot;state&quot; : &quot;translated&quot;,
            &quot;value&quot; : &quot;Allow \\\&quot;Quick Start App\\\&quot; to use your location&quot;
          }
        }
      }
    },
    &quot;locationManagerAlertTitle&quot; : {
      &quot;extractionState&quot; : &quot;manual&quot;,
      &quot;localizations&quot; : {
        &quot;en&quot; : {
          &quot;stringUnit&quot; : {
            &quot;state&quot; : &quot;translated&quot;,
            &quot;value&quot; : &quot;We need your location to detect your location in map&quot;
          }
        }
      }
    },
    &quot;NotAllFieldsAreConfigured&quot; : {
      &quot;extractionState&quot; : &quot;manual&quot;,
      &quot;localizations&quot; : {
        &quot;en&quot; : {
          &quot;stringUnit&quot; : {
            &quot;state&quot; : &quot;translated&quot;,
            &quot;value&quot; : &quot;Not all the fields are configured&quot;
          }
        }
      }
    },
    &quot;OK&quot; : {
      &quot;extractionState&quot; : &quot;manual&quot;,
      &quot;localizations&quot; : {
        &quot;en&quot; : {
          &quot;stringUnit&quot; : {
            &quot;state&quot; : &quot;translated&quot;,
            &quot;value&quot; : &quot;OK&quot;
          }
        }
      }
    },
    &quot;StartTrackingLabel&quot; : {
      &quot;localizations&quot; : {
        &quot;en&quot; : {
          &quot;stringUnit&quot; : {
            &quot;state&quot; : &quot;translated&quot;,
            &quot;value&quot; : &quot;Start Tracking&quot;
          }
        }
      }
    },
    &quot;StopTrackingLabel&quot; : {
      &quot;localizations&quot; : {
        &quot;en&quot; : {
          &quot;stringUnit&quot; : {
            &quot;state&quot; : &quot;translated&quot;,
            &quot;value&quot; : &quot;Stop Tracking&quot;
          }
        }
      }
    },
    &quot;Tracking&quot; : {

    }
  },
  &quot;version&quot; : &quot;1.0&quot;
}
</div></code></pre>
<ul>
<li>Save your files, and build and run your app to preview the functionality.</li>
<li>Allow the location permission and tap on the tracking button. The app will start uploading user locations and upload
them to the Amazon Location tracker. It will also show user location changes, tracking points, and current address on
the map.</li>
</ul>
<p><img src="images/tracking-view.png" alt="Tracking View"></p>
<p>Your quick-start application is complete. This tutorial has shown you how to create an iOS application that:</p>
<ul>
<li>Creates a map that users can interact with.</li>
<li>Handles several map events associated with the user changing the map view.</li>
<li>Calls an Amazon Location Service API, specifically to search the map at a location, using Amazon Location's
searchByPosition API.</li>
</ul>
<h2 id="seeing-the-final-application">Seeing the final application</h2>
<p>The final project and source code for this application is available on <a href="https://github.com/aws-geospatial/amazon-location-mobile-quickstart-ios">GitHub</a>.</p>
<h2 id="whats-next">What's next</h2>
<p>You have completed the quick start tutorial and should have an idea of how Amazon Location Service is used to build iOS applications. To get more out of Amazon Location Service, you can check out the following resources:</p>
<p>Dive deeper into the <a href="https://docs.aws.amazon.com/location/latest/developerguide/how-it-works.html">concepts of Amazon Location Service</a></p>
<p>Get more information about <a href="https://docs.aws.amazon.com/location/latest/developerguide/using-amazon-location.html">how to use Amazon Location features and functionality</a></p>
<p>See how to expand on this sample and build more complex applications by looking at <a href="https://docs.aws.amazon.com/location/latest/developerguide/samples.html">code examples using Amazon
Location</a></p>

</body>
</html>
